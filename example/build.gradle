buildscript {
	repositories {
		maven {
			url uri('../repo')
		}
	}
	dependencies {
		classpath group: 'org.gradle.api.plugins', name: 'gradle-fsm-plugin', version: '0.1.0'
	}
}
apply plugin: 'eclipse'
apply plugin: 'fsm'

description = 'add your description here'
version = '0.1.0'
ext.vendor = 'example'

repositories {
  mavenCentral()
}

dependencies {
  compile (
    // example
    'joda-time:joda-time:2.3'
  )
  
  testCompile (
    // example
    'junit:junit:4.11'
  )  
}

fsm {
	// configure FSM here
}

/*
task assembleFSM(type: Jar, dependsOn: jar, group: 'build', description: 'Assembles the FirstSpirit module') {
  extension = 'fsm'
  destinationDir = file('build/fsm')
  
  // include production code
  into ('lib') {
      from "${buildDir}/libs"
      include project.jar.archiveName
  }
  
  // include compile and runtime dependencies
  into ('lib') {
    from configurations.compile
    from configurations.runtime
    
    exclude { it.file in configurations.fsprovidedCompile.files }
    exclude { it.file in configurations.fsprovidedRuntime.files }
  }

  // configure META-INF directory
  metaInf {
    from 'src/main/resources/'
    include 'module.xml'
      
    // expand placeholders in module.xml
    expand(name: project.name,
      version: project.version,
      description: project.description,
      vendor: vendor,
      artifact: project.jar.archiveName)
  }
  
  // customize MANIFEST.MF as needed here
  manifest {
    attributes "Implementation-Version": version
  }
}
*/

//artifacts {
//  // add FSM to the outputs of this build
//  archives assembleFSM
//}

jar {
  exclude 'module.xml' // module.xml will be placed in META-INF directory
  
  // customize MANIFEST.MF as needed here
  manifest {
    attributes "Implementation-Version": version
  }
}
